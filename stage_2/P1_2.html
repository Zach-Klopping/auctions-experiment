{{ block content }}

<div class="container" style="height:130vh;">
<div class="title">
  <p>Auction</p>
</div>

<!-- Link to js_warning file that requires users to enable JavaScript -->
{{ include '_static/popups/js_warning.html' }}

<!-- Link to your general.js file that contains the logic for generating the payoff table -->
<script src="{% static 'general.js' %}"></script>

<!-- Link to the external CSS file -->
<link rel="stylesheet" type="text/css" href="{% static 'general.css' %}">

<p>The payoff calculator below shows your earnings from the auction as a function of your value for the widget, your bid, and the bid of the other participant. This includes your initial endowment of 400 cents.</p>
<p style="margin-bottom: 4px;">There are three buttons below the payoff table:</p>
<ul style="padding-left: 50px;">
  <li>Instructions <span style="color:orange">(Orange)</span>
    <ul>
      <li style="margin-bottom: -10px;">Accesses the full instructions for the experiment.</li>
    </ul>
  </li>
  <li>Select Your Bid <span style="color:rgb(110, 207, 255)">(Blue)</span>
    <ul>
      <li style="margin-bottom: -10px;">Accesses a pulldown menu that you will use to select a bid.</li>
    </ul>
  </li>
  <li>Confirm Your Bid <span style="color:rgb(76, 234, 76)">(Green)</span>
    <ul>
      <li style="margin-bottom: 0px;">Use this button to confirm your bid and continue to the final screen.</li>
      <li style="margin-bottom: 15px;">This button will only turn green after you select a bid.</li>
    </ul>
  </li>
</ul>

<p style="margin-bottom: 30px;">The auction is won by the person who submits the highest bid. The winning bidder earns the difference between their value for the widget and the losing bid (i.e. the bid submitted by the other person). The losing bidder earns zero. In case of a tie, you will earn the average of what you would get as the winner and as the loser.</p>

<p class="center-text-auctions" style="color: red; font-size: 20px;"><b>Your randomly drawn value for the widget is {{ auction_value }}</b></p>

<div class="button-row-calculator-game" style=" margin-top:-10px">
  <p style="font-size: 20px; margin-bottom: 5px;"><b>Payoff Calculator</b></p>
  <div class="value-dropdown">
    <button type="button" style="background-color: rgb(187, 124, 255);" class="PC-value-dropdown-btn" id="PC-value-dropdown-btn" onclick="toggleDropdown(this)">Value for Payoff: 250</button>
      <div id="value-dropdown-content" class="value-dropdown-content" style="display: none;">
        <div class="value-dropdown-option" onclick="selectValue(0, this)">0</div>
        <div class="value-dropdown-option" onclick="selectValue(50, this)">50</div>
        <div class="value-dropdown-option" onclick="selectValue(100, this)">100</div>
        <div class="value-dropdown-option" onclick="selectValue(150, this)">150</div>
        <div class="value-dropdown-option" onclick="selectValue(200, this)">200</div>
        <div class="value-dropdown-option" onclick="selectValue(250, this)" style="color: red"><b>250</b></div>
        <div class="value-dropdown-option" onclick="selectValue(300, this)">300</div>
        <div class="value-dropdown-option" onclick="selectValue(350, this)">350</div>
        <div class="value-dropdown-option" onclick="selectValue(400, this)">400</div>
        <div class="value-dropdown-option" onclick="selectValue(450, this)">450</div>
        <div class="value-dropdown-option" onclick="selectValue(500, this)">500</div>
      </div>
  </div>
  <input type="hidden" id="selected-bid-input" />

  <div id="your-bid-dropdown" class="your-bid-dropdown">
    <button type="button"  style="background-color: rgb(255, 110, 209); margin-top:10px" class="your-bid-dropdown-btn" id="your-bid-dropdown-btn"  onclick="toggleDropdown(this)">Your Bid</button>
    <div id="your-bid-dropdown-content" class="your-bid-dropdown-content" style="display: none;">
      <div class="your-bid-dropdown-option" onclick="selectYourBid(0)">0</div>
      <div class="your-bid-dropdown-option" onclick="selectYourBid(50)">50</div>
      <div class="your-bid-dropdown-option" onclick="selectYourBid(100)">100</div>
      <div class="your-bid-dropdown-option" onclick="selectYourBid(150)">150</div>
      <div class="your-bid-dropdown-option" onclick="selectYourBid(200)">200</div>
      <div class="your-bid-dropdown-option" onclick="selectYourBid(250)">250</div>
      <div class="your-bid-dropdown-option" onclick="selectYourBid(300)">300</div>
      <div class="your-bid-dropdown-option" onclick="selectYourBid(350)">350</div>
      <div class="your-bid-dropdown-option" onclick="selectYourBid(400)">400</div>
      <div class="your-bid-dropdown-option" onclick="selectYourBid(450)">450</div>
      <div class="your-bid-dropdown-option" onclick="selectYourBid(500)">500</div>
    </div>
  </div>

  <div id="opponent-bid-dropdown" class="opponent-bid-dropdown">
    <button type="button"  style="background-color: rgb(255, 255, 110); margin-top:10px" class="opponent-bid-dropdown-btn" id="opponent-bid-dropdown-btn" onclick="toggleDropdown(this)">Other's Bid</button>
    <div id="opponent-bid-dropdown-content" class="opponent-bid-dropdown-content" style="display: none;">
      <div class="opponent-bid-dropdown-option" onclick="selectOpponentBid(0)">0</div>
      <div class="opponent-bid-dropdown-option" onclick="selectOpponentBid(50)">50</div>
      <div class="opponent-bid-dropdown-option" onclick="selectOpponentBid(100)">100</div>
      <div class="opponent-bid-dropdown-option" onclick="selectOpponentBid(150)">150</div>
      <div class="opponent-bid-dropdown-option" onclick="selectOpponentBid(200)">200</div>
      <div class="opponent-bid-dropdown-option" onclick="selectOpponentBid(250)">250</div>
      <div class="opponent-bid-dropdown-option" onclick="selectOpponentBid(300)">300</div>
      <div class="opponent-bid-dropdown-option" onclick="selectOpponentBid(350)">350</div>
      <div class="opponent-bid-dropdown-option" onclick="selectOpponentBid(400)">400</div>
      <div class="opponent-bid-dropdown-option" onclick="selectOpponentBid(450)">450</div>
      <div class="opponent-bid-dropdown-option" onclick="selectOpponentBid(500)">500</div>
    </div>
  </div>

  <div><p><b style="font-size: 25px;" id="payoff-display">Your Payoff: <span style="color:red"> N/A</span></b></p></div>
</div>

<div class="button-row">
  <p style="font-size: 20px; margin-top: 0px; margin-bottom: -5px;"><b>Bidding</b></p>
  <button type="button" class="instructions_bttn" style="background-color: orange;" onclick="showInstructions()">Instructions</button>

  <!-- Dropdown to select the bid -->
  <div id="bid-dropdown" class="bid-dropdown">
    <button type="button" class="bid-dropdown-btn" style="background-color: rgb(110, 207, 255);" onclick="toggleDropdown(this)">Select Your Bid</button>
    <div id="bid-dropdown-content" class="bid-dropdown-content" style="display: none;">
      <div class="bid-dropdown-option" onclick="confirmBid(0)">0</div>
      <div class="bid-dropdown-option" onclick="confirmBid(50)">50</div>
      <div class="bid-dropdown-option" onclick="confirmBid(100)">100</div>
      <div class="bid-dropdown-option" onclick="confirmBid(150)">150</div>
      <div class="bid-dropdown-option" onclick="confirmBid(200)">200</div>
      <div class="bid-dropdown-option" onclick="confirmBid(250)">250</div>
      <div class="bid-dropdown-option" onclick="confirmBid(300)">300</div>
      <div class="bid-dropdown-option" onclick="confirmBid(350)">350</div>
      <div class="bid-dropdown-option" onclick="confirmBid(400)">400</div>
      <div class="bid-dropdown-option" onclick="confirmBid(450)">450</div>
      <div class="bid-dropdown-option" onclick="confirmBid(500)">500</div>
    </div>
    <span style="margin-top: -420px" id="bid-error-message"></span>
  </div>

  <button type="submit" style="margin-top:20px" onclick="return validateBidSelection()" id="confirm-button">Confirm Your Bid: None</button>
</div>


{{ include '_static/popups/instructions_bttn.html' }}

{{ endblock }}