{{ block content }}

<div class="container" style="height:130vh;">
<div class="title">
  <p>{% if standard_instructions %} Auction {% endif %}{% if not standard_instructions %} Game {% endif %}</p>
</div>

<!-- Link to js_warning file that requires users to enable JavaScript -->
{{ include '_static/popups/js_warning.html' }}

<!-- Link to your general.js file that contains the logic for generating the payoff table -->
<script src="{% static 'general.js' %}"></script>

<!-- Link to the external CSS file -->
<link rel="stylesheet" type="text/css" href="{% static 'general.css' %}">

{% if standard_instructions %}
  <p>The payoff table below shows your earnings from the auction as a function of your value for the widget, your bid, and the bid of the {% if computer_opponent %}computer{% endif %}{% if not computer_opponent %}other participant{% endif%}. {% if integrated_endowment %} This includes your initial endowment of 400 cents. {% endif %}</p>
{% endif %}
{% if not standard_instructions %}
  <p>The payoff table below shows your earnings from the game as a function of your type, your number, and the other participant's number. {% if integrated_endowment %} This includes your initial endowment of 400 cents. {% endif %}</p>
{% endif %}

<p style="margin-bottom: 4px;">There are {% if computer_opponent %}three{% endif %}{% if not computer_opponent %}four{% endif%} buttons below the payoff table:</p>
<ul>
  <li>Instructions <span style="color:orange">(Orange)</span>
    <ul>
      <li style="margin-bottom: -10px;">Accesses the full instructions for the experiment.</li>
    </ul>
  </li>
  {% if not computer_opponent %}
  <li>{% if standard_instructions %} Value {% endif %}{% if not standard_instructions %} Type {% endif %} for Payoff Table <span style="color:rgb(187, 124, 255)">(Purple)</span>
    <ul>
      <li style="margin-bottom: 0px;">Accesses a pulldown menu that allows you to see the payoff table for other {% if standard_instructions %} values {% endif %} {% if not standard_instructions %} types. {% endif %}</li>
      <li style="margin-bottom: -10px;">Your {% if standard_instructions %} value {% endif %} {% if not standard_instructions %} type {% endif %} is highlighted in <span style="color:red">red</span> so you can easily find it.</li>
    </ul>
  </li>
  {% endif %}
  <li>Select Your {% if standard_instructions %} Bid {% endif %} {% if not standard_instructions %} Number {% endif %} <span style="color:rgb(110, 207, 255)">(Blue)</span>
    <ul>
      <li style="margin-bottom: -10px;">Accesses a pulldown menu that you will use to select a {% if standard_instructions %} bid {% endif %} {% if not standard_instructions %} number. {% endif %}</li>
    </ul>
  </li>
  <li>Confirm Your {% if standard_instructions %} Bid {% endif %} {% if not standard_instructions %} number {% endif %} <span style="color:rgb(76, 234, 76)">(Green)</span>
    <ul>
      <li style="margin-bottom: 0px;">Use this button to confirm your {% if standard_instructions %} bid {% endif %} {% if not standard_instructions %} number {% endif %} and continue to the final screen.</li>
      <li style="margin-bottom: -10px;">This button will only turn green after you select a {% if standard_instructions %} bid. {% endif %} {% if not standard_instructions %} number. {% endif %}</li>
    </ul>
  </li>
</ul>

{% if standard_instructions and computer_opponent%}   
<p>You win the auction if your bid is higher than the computer's bid. If you win, you earn the difference between your value for the widget and the computer's bid. If you lose, you earn zero. In case of a tie, you will earn the average of what you would get as the winner and as the loser.</p>
<p class="center-text-auctions" style="color: red; font-size: 20px; margin-top: 10px; margin-bottom: 30px;"><b>Your randomly drawn value for the widget is {{ auction_value }}</b></p>
{% endif %}

{% if standard_instructions and not computer_opponent%}     
<p>The auction is won by the person who submits the highest bid. The winning bidder earns the difference between their value for the widget and the losing bid (i.e. the bid submitted by the other person). The losing bidder earns zero. In case of a tie, you will earn the average of what you would get as the winner and as the loser.</p>
<p class="center-text-auctions" style="color: red; font-size: 20px; margin-top: 10px; margin-bottom: 30px;"><b>Your randomly drawn value for the widget is {{ auction_value }}</b></p>
{% endif %}

{% if not standard_instructions %}
<p>If you submit the highest number, your payoff is the difference between your type and the other's participant's number, <i>multiplied by 50 cents.</i> If your number is the lowest number, your payoff is zero. In case of a tie, your payoff is the difference between your type and the other's participant's number, <i>multiplied by 25 cents.</i></p>
<p class="center-text-auctions" style="color: red; font-size: 20px; margin-top: 10px; margin-bottom: 30px;"><b>Your type is {{ auction_value }}</b></p>
{% endif %}

<div class="game-page" id="payoff-table-container"></div>

<div class="button-row">
  <button type="button" class="instructions_bttn" style="background-color:orange;" onclick="showInstructions()">Instructions</button>
  {% if not computer_opponent and standard_instructions%}
    <div class="value-dropdown">
      <button type="button" style="background-color: rgb(187, 124, 255);" class="value-dropdown-btn" onclick="toggleDropdown(this)">Value for Payoff Table: {{ auction_value }}</button>
      <div id="value-dropdown-content" class="value-dropdown-content" style="display: none;">
        <div class="value-dropdown-option" onclick="selectValue(0, this)" {% if auction_value == 0 %}style="color: red;"{% endif %}>0</div>
        <div class="value-dropdown-option" onclick="selectValue(50, this)" {% if auction_value == 50 %}style="color: red;"{% endif %}>50</div>
        <div class="value-dropdown-option" onclick="selectValue(100, this)" {% if auction_value == 100 %}style="color: red;"{% endif %}>100</div>
        <div class="value-dropdown-option" onclick="selectValue(150, this)" {% if auction_value == 150 %}style="color: red;"{% endif %}>150</div>
        <div class="value-dropdown-option" onclick="selectValue(200, this)" {% if auction_value == 200 %}style="color: red;"{% endif %}>200</div>
        <div class="value-dropdown-option" onclick="selectValue(250, this)" {% if auction_value == 250 %}style="color: red;"{% endif %}>250</div>
        <div class="value-dropdown-option" onclick="selectValue(300, this)" {% if auction_value == 300 %}style="color: red;"{% endif %}>300</div>
        <div class="value-dropdown-option" onclick="selectValue(350, this)" {% if auction_value == 350 %}style="color: red;"{% endif %}>350</div>
        <div class="value-dropdown-option" onclick="selectValue(400, this)" {% if auction_value == 400 %}style="color: red;"{% endif %}>400</div>
        <div class="value-dropdown-option" onclick="selectValue(450, this)" {% if auction_value == 450 %}style="color: red;"{% endif %}>450</div>
        <div class="value-dropdown-option" onclick="selectValue(500, this)" {% if auction_value == 500 %}style="color: red;"{% endif %}>500</div>
      </div>
    </div>
    <div id="bid-dropdown" class="bid-dropdown">
      <button type="button" class="bid-dropdown-btn" style="background-color: rgb(110, 207, 255);" onclick="toggleDropdown(this)">Select Your Bid</button>
      <div id="bid-dropdown-content" class="bid-dropdown-content" style="display: none;">
        <div class="bid-dropdown-option" onclick="confirmBid(0)">0</div>
        <div class="bid-dropdown-option" onclick="confirmBid(50)">50</div>
        <div class="bid-dropdown-option" onclick="confirmBid(100)">100</div>
        <div class="bid-dropdown-option" onclick="confirmBid(150)">150</div>
        <div class="bid-dropdown-option" onclick="confirmBid(200)">200</div>
        <div class="bid-dropdown-option" onclick="confirmBid(250)">250</div>
        <div class="bid-dropdown-option" onclick="confirmBid(300)">300</div>
        <div class="bid-dropdown-option" onclick="confirmBid(350)">350</div>
        <div class="bid-dropdown-option" onclick="confirmBid(400)">400</div>
        <div class="bid-dropdown-option" onclick="confirmBid(450)">450</div>
        <div class="bid-dropdown-option" onclick="confirmBid(500)">500</div>
      </div>
  {% endif %}
  {% if not standard_instructions %}
    <div class="value-dropdown">
      <button type="button" style="background-color: rgb(187, 124, 255);" class="value-dropdown-btn" onclick="toggleDropdown(this)">Type for Payoff Table: {{ auction_value }}</button>
      <div id="value-dropdown-content" class="value-dropdown-content" style="display: none;">
        <div class="value-dropdown-option" onclick="selectValue(0, this)" {% if auction_value == 0 %}style="color: red;"{% endif %}>0</div>
        <div class="value-dropdown-option" onclick="selectValue(1, this)" {% if auction_value == 1 %}style="color: red;"{% endif %}>1</div>
        <div class="value-dropdown-option" onclick="selectValue(2, this)" {% if auction_value == 2 %}style="color: red;"{% endif %}>2</div>
        <div class="value-dropdown-option" onclick="selectValue(3, this)" {% if auction_value == 3 %}style="color: red;"{% endif %}>3</div>
        <div class="value-dropdown-option" onclick="selectValue(4, this)" {% if auction_value == 4 %}style="color: red;"{% endif %}>4</div>
        <div class="value-dropdown-option" onclick="selectValue(5, this)" {% if auction_value == 5 %}style="color: red;"{% endif %}>5</div>
        <div class="value-dropdown-option" onclick="selectValue(6, this)" {% if auction_value == 6 %}style="color: red;"{% endif %}>6</div>
        <div class="value-dropdown-option" onclick="selectValue(7, this)" {% if auction_value == 7 %}style="color: red;"{% endif %}>7</div>
        <div class="value-dropdown-option" onclick="selectValue(8, this)" {% if auction_value == 8 %}style="color: red;"{% endif %}>8</div>
        <div class="value-dropdown-option" onclick="selectValue(9, this)" {% if auction_value == 9 %}style="color: red;"{% endif %}>9</div>
        <div class="value-dropdown-option" onclick="selectValue(10, this)" {% if auction_value == 10 %}style="color: red;"{% endif %}>10</div>
      </div>
    </div>
    <div id="bid-dropdown" class="bid-dropdown">
      <button type="button" class="bid-dropdown-btn" style="background-color: rgb(110, 207, 255);" onclick="toggleDropdown(this)">Select Your Number</button>
      <div id="bid-dropdown-content" class="bid-dropdown-content" style="display: none;">
        <div class="bid-dropdown-option" onclick="confirmBid(0)">0</div>
        <div class="bid-dropdown-option" onclick="confirmBid(1)">1</div>
        <div class="bid-dropdown-option" onclick="confirmBid(2)">2</div>
        <div class="bid-dropdown-option" onclick="confirmBid(3)">3</div>
        <div class="bid-dropdown-option" onclick="confirmBid(4)">4</div>
        <div class="bid-dropdown-option" onclick="confirmBid(5)">5</div>
        <div class="bid-dropdown-option" onclick="confirmBid(6)">6</div>
        <div class="bid-dropdown-option" onclick="confirmBid(7)">7</div>
        <div class="bid-dropdown-option" onclick="confirmBid(8)">8</div>
        <div class="bid-dropdown-option" onclick="confirmBid(9)">9</div>
        <div class="bid-dropdown-option" onclick="confirmBid(10)">10</div>
      </div>
  {% endif %}

    {% if not computer_opponent %}
    <span id="bid-error-message"></span>
    {% endif %}
    {% if computer_opponent %}
    <span style="margin-top:-80px" id="bid-error-message"></span>
    {% endif %}
  </div>

  <button type="submit" onclick="return validateBidSelection()" id="confirm-button">Confirm Your {% if standard_instructions %} Bid{% endif %} {% if not standard_instructions %} Number{% endif %}: <span id="selected-bid-display">None</span></button>
  <input type="hidden" name="selected_bid" id="selected-bid-input">
</div>

{{ include '_static/popups/instructions_bttn.html' }}

{{ endblock }}